gx.controllers.module("withdrawals_main_controller",[jse.core.config.get("shopUrl")+"/admin/html/assets/javascript/engine/libs/info_messages"],function(){"use strict";var a=$(this),e=window.gx.libs.info_messages,n={},i=a.find(".js-save-order-id"),t=a.find('input[name="withdrawal_order_id"]'),r=$("#withdrawal_id"),o=a.find('input[name="page_token"]'),s=function(){i.animate({opacity:.2},250);var a=["request_port.php?","module=Withdrawal&","action=save_withdrawal_order_id"].join(""),n=$.ajax({url:a,type:"POST",dataType:"json",data:{withdrawal_id:r.text(),order_id:t.val(),page_token:o.val()}});n.done(function(a){i.animate({opacity:1},250),"success"===a.status?e.addSuccess(jse.core.lang.translate("TXT_SAVE_SUCCESS","admin_general")):e.addError(jse.core.lang.translate("TXT_SAVE_ERROR","admin_general"))}),n.fail(function(){i.animate({opacity:1},250),e.addError(jse.core.lang.translate("TXT_SAVE_ERROR","admin_general"))})},d=function(a){i.is(a.target)&&s()};return n.init=function(e){a.on("click",d),e()},n});