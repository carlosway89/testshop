gx.widgets.module("ckeditor",[jse.core.config.get("shopUrl")+"/admin/html/assets/javascript/engine/libs/info_messages",jse.core.config.get("shopUrl")+"/admin/html/assets/javascript/engine/libs/button_dropdown",jse.core.config.get("shopUrl")+"/admin/html/assets/javascript/engine/libs/action_mapper"],function(e){"use strict";var t=$(this),i={filebrowserBrowseUrl:jse.core.config.get("filemanager"),baseHref:jse.core.config.get("shopUrl")+"/admin",enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_P,language:jse.core.config.get("languageCode")},n=$.extend(!0,{},i,e),s={},a=null;return s.init=function(e){a=t.filter(".wysiwyg").add(t.find(".wysiwyg")),a.each(function(){var e=$(this),t=$.extend({},n,e.data()),i=e.attr("name");e.removeClass("wysiwyg"),CKEDITOR.replace(i,t)}),t.on("ckeditor.update",function(){a.each(function(){var e=$(this),t=e.attr("name"),i=CKEDITOR?CKEDITOR.instances[t]:null;i&&i.setData(e.val())})}),t.trigger("widget.initialized","ckeditor"),e()},s});