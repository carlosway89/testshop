window.jse={core:{},libs:{},constructors:{}},$(document).ready(function(){"use strict";try{if("undefined"==typeof window.JSEngineConfiguration)throw new Error('The "window.JSEngineConfiguration" object is not defined in the global scope. This object is required by the JSEngine upon its initialization. Check "core/initialize" documentation page.');jse.core.config.init(window.JSEngineConfiguration),window.engineStartTime=(new Date).getTime(),jse.core.engine.init([new jse.constructors.Collection("extensions","extension"),new jse.constructors.Collection("controllers","controller"),new jse.constructors.Collection("widgets","widget"),new jse.constructors.Collection("compatibility","compatibility")])}catch(e){jse.core.debug.error("Unexpected error during JS Engine initialization!",e)}}),function(){"use strict";function e(e,n,t){this.name=e,this.attribute=n,this.namespace=t,this.cache={modules:{},data:{}}}e.prototype.module=function(e,n,t){var o=this;return e&&"string"==typeof e&&"function"==typeof t?o.cache.modules[e]?(jse.core.debug.warn('Registration of module "'+e+'" skipped, because it already exists.'),!1):void(o.cache.modules[e]={code:t,dependencies:n}):(jse.core.debug.warn("Registration of the module failed, due to bad function call",arguments),!1)},e.prototype.register=function(e,n,t,o,i){jse.core.debug.warn("The Collection.prototype.register() method is deprecated as of v1.2.0, use the Collection.prototype.module() method instead -- "+e),this.module(e,t,o)},e.prototype.init=function(e,n){var t=this;if(!t.namespace)throw new Error("Collection cannot be initialized without its parent namespace instance.");("undefined"==typeof e||null===e)&&(e=$("html"));var o="data-"+t.namespace.name+"-"+t.attribute,i=[];e.filter("["+o+"]").add(e.find("["+o+"]")).each(function(){var e=$(this),n=e.attr(o);e.removeAttr(o),$.each(n.trim().split(" "),function(n,o){var r=$.Deferred();i.push(r),jse.core.module_loader.load(e,o,t).done(function(e){e.init(r)}).fail(function(e){r.reject(),jse.core.debug.error("Could not load module: "+o,e)})})}),n&&(0===i.length&&n&&n.resolve(),$.when.apply(void 0,i).promise().done(function(){n.resolve()}).fail(function(){n.fail()}))},jse.constructors.Collection=e}(),function(){"use strict";function e(e,n,t){this.$element=e,this.name=n,this.collection=t}e.prototype.init=function(e){var i=this,r=i.collection.cache.modules[i.name],a=e.promise(),s=null;try{if(!r)throw new Error('Module "'+i.name+'" could not be found in the collection cache.');var c=n(i),u=r.code.call(i.$element,c),l=function(){i.$element.trigger("module.initialized",[{module:i.name}]),jse.core.debug.info('Module "'+i.name+'" initialized successfully.'),e.resolve(),clearTimeout(s)};u._initFinished=function(){jse.core.debug.warn('The "_initFinished" function is deprecated as of v1.2.0, use the new module initialization instead -- '+i.name),l()},u._data=function(e){jse.core.debug.warn('The "_data" function is deprecated as of v1.2.0, use jQuery data() function instead -- '+i.name);var n=e.data(),t={};return $.each(n,function(e,n){if(0===e.indexOf(i.name)||0===e.indexOf(i.name.toLowerCase())){var o=e.substr(i.name.length);o=o.substr(0,1).toLowerCase()+o.substr(1),t[o]=n}}),t},t(u).done(function(){o(),s=setTimeout(function(){jse.core.debug.warn("Module was not initialized after 15 seconds! -- "+i.name),e.reject()},15e3),u.init(l)}).fail(function(n){e.reject(),jse.core.debug.error("Could not load module's meta data.",n)})}catch(d){e.reject(),jse.core.debug.error('Cannot initialize module "'+i.name+'"',d)}return a};var n=function(e){var n={};return $.each(e.$element.data(),function(t,o){if(0===t.indexOf(e.name)||0===t.indexOf(e.name.toLowerCase())){var i=t.substr(e.name.length);i=i.substr(0,1).toLowerCase()+i.substr(1),n[i]=o,e.$element.removeAttr("data-"+e.name+"-"+i)}}),n},t=function(e){var n=$.Deferred();try{var t=[];e.model&&$.each(e.model,function(n,o){var i=$.Deferred();t.push(i),$.getJSON(o).done(function(t){e.model[n]=t,i.resolve(t)}).fail(function(e){i.reject(e)})}),e.view&&$.each(e.view,function(n,o){var i=$.Deferred();t.push(i),$.get(o).done(function(t){e.view[n]=t,i.resolve(t)}).fail(function(e){i.reject(e)})}),$.when.apply(void 0,t).promise().done(function(){n.resolve()}).fail(function(e){n.reject(new Error('Cannot load data for module "'+module.name+'".',e))})}catch(o){n.resolve(o)}return n.promise()},o=function(){"undefined"==typeof window.gx&&(window.gx={}),window.gx.libs=jse.libs};jse.constructors.Module=e}(),function(){"use strict";function e(e,n,t){this.name=e,this.source=n,this.collections=t}e.prototype.init=function(){var e=[];for(var n in this.collections){var t=this.collections[n],o=$.Deferred();e.push(o),this[t.name]=new jse.constructors.Collection(t.name,t.attribute,this),this[t.name].init(null,o)}return 0===e.length?$.Deferred().resolve():$.when.apply(void 0,e).promise()},jse.constructors.Namespace=e}(),$(document).ready(function(){"use strict";"production"!==jse.core.config.get("environment")&&(jse.about=function(){var e=["JS ENGINE v"+jse.core.config.get("version")+" Â© GAMBIO GMBH","----------------------------------------------------------------","The JS Engine enables developers to load automatically small pieces of javascript code by","placing specific data attributes to the HTML markup of a page. It was built with modularity","in mind so that modules can be reused into multiple places without extra effort. The engine","contains namespaces which contain collections of modules, each one of whom serve a different","generic purpose.","","Visit http://developers.gambio.de for complete reference of the JS Engine.","","FALLBACK INFORMATION","----------------------------------------------------------------","Since the engine code becomes bigger there are sections that need to be refactored in order","to become more flexible. In most cases a warning log will be displayed at the browser's console","whenever there is a use of a deprecated function. Below there is a quick list of fallback support","that will be removed in the future versions of the engine.","",'1. The main engine object was renamed from "gx" to "jse" which stands for the JavaScript Engine.','2. The "gx.lib" object is removed after a long deprecation period. You should update the modules ',"   that contained calls to the functions of this object.","3. The gx.<collection-name>.register function is deprecated by v1.2, use the ","   <namespace>.<collection>.module() instead."];jse.core.debug.info(e.join("\n"))})}),jse.core.config=jse.core.config||{},function(e){"use strict";var n={version:"1.2.0",shopUrl:null,engineUrl:null,environment:"production",prefix:"gx",translations:{},languageCode:"",debug:"SILENT",cacheBust:!0,minified:!0,mobile:!1,touch:window.ontouchstart||window.onmsgesturechange?!0:!1,filemanager:"includes/ckeditor/filemanager/index.html",pageToken:"",history:history&&history.replaceState&&history.pushState};e.get=function(e){return n[e]},e.init=function(e){n.environment=e.environment,n.shopUrl=e.shopUrl,"development"===n.environment&&(n.cacheBust=!1,n.minified=!1,n.debug="DEBUG"),"undefined"!=typeof e.engineUrl?n.engineUrl=e.engineUrl:n.engineUrl=n.shopUrl+"/JSEngine/build","undefined"!=typeof e.translations&&(n.translations=e.translations,$.each(n.translations,function(e,n){jse.core.lang.addSection(e,n)})),"undefined"!=typeof e.prefix&&(n.prefix=e.prefix),"undefined"!=typeof e.languageCode&&(n.languageCode=e.languageCode),"undefined"!=typeof e.pageToken&&(n.pageToken=e.pageToken),jse.core.module_loader.init(),delete window.JSEngineConfiguration}}(jse.core.config),jse.core.debug=jse.core.debug||{},function(e){"use strict";var n=["DEBUG","INFO","LOG","WARN","ERROR","ALERT","SILENT"],t=function(e,t){var o=n.indexOf(e),i=n.indexOf(jse.core.config.get("debug")),r=null;if(o>=i){if(r=e.toLowerCase(),"alert"===r)return void alert(JSON.stringify(t));if("mobile"===r){var a=$(".mobileDbgLayer");return a.length||(a=$("<div />"),a.addClass("mobileDbgLayer"),a.css({position:"fixed",top:0,left:0,"max-height":"50%","min-width":"200px","max-width":"300px","background-color":"crimson","z-index":1e5,overflow:"scroll"}),$("body").append(a)),void a.append("<p>"+JSON.stringify(t)+"</p>")}if("undefined"==typeof console)return;return"function"==typeof console[r].apply||"function"==typeof console.log.apply?"undefined"!=typeof console[r]?console[r].apply(console,t):console.log.apply(console,t):console.log(t),!0}return!1};e.debug=function(){t("DEBUG",arguments)},e.info=function(){t("INFO",arguments)},e.log=function(){t("LOG",arguments)},e.warn=function(){t("WARN",arguments)},e.error=function(){t("ERROR",arguments)},e.alert=function(){t("ALERT",arguments)},e.mobile=function(){t("MOBILE",arguments)}}(jse.core.debug),jse.core.engine=jse.core.engine||{},function(e){"use strict";var n=function(e){var n=[];if($(":attr(data-(.*)-namespace)").each(function(){var o=$(this);$.each(o.data(),function(i,r){if(-1===i.indexOf("Namespace"))return!0;if(i=i.replace("Namespace",""),n.indexOf(i)>-1){if(window[i].source!==r)throw jse.core.debug.error("Element with the duplicate namespace name: ",o[0]),new Error('The namespace "'+i+'" is already defined. Please select another name for your namespace.');return!0}if(""===r)throw new SyntaxError("Namespace source is empty: "+i);"jse"===i?t(r,e):window[i]=new jse.constructors.Namespace(i,r,e),n.push(i),o.removeAttr("data-"+i+"-namespace")})}),0===n.length)throw new Error("No module namespaces were found, without namespaces it is not possible to load any modules.");var o=[];return $.each(n,function(e,n){var t=$.Deferred();o.push(t),window[n].init().done(function(){t.resolve()}).fail(function(){t.reject()}).always(function(){jse.core.debug.info("Namespace promises were resolved: ",n)})}),$.when.apply(void 0,o).promise().always(function(){$("body").trigger("JSENGINE_INIT_FINISHED",[])}),n},t=function(e,n){var t=new jse.constructors.Namespace("jse",e,n);jse.name=t.name,jse.source=t.source,jse.collections=t.collections,jse.init=jse.constructors.Namespace.prototype.init};e.init=function(e){var t=n(e);jse.core.debug.info("Page Namespaces: "+t.join()),jse.core.registry.set("namespaces",t)}}(jse.core.engine),function(){"use strict";"undefined"==typeof $.expr.pseudos.attr&&($.expr.pseudos.attr=$.expr.createPseudo(function(e){var n=new RegExp(e);return function(e){for(var t=0;t<e.attributes.length;t++){var o=e.attributes[t];if(n.test(o.name))return!0}return!1}})),$.datepicker.regional.de={dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1},$.datepicker.setDefaults($.datepicker.regional.de)}(),jse.core.fallback=jse.core.fallback||{},function(e){"use strict";$(document).ready(function(){$("body").on("validator.validate",function(e,n){n&&n.deferred&&n.deferred.resolve()}),$("body").on("formchanges.check",function(e,n){n&&n.deferred&&n.deferred.resolve()}),jse.core.config.get("hasTouch")&&$("body").addClass("has-touch")});var n=function(e,n,t){jse.core.debug.warn('The "'+e+'" function is deprecated as of v'+n+" and will be removed in v"+t)};e.setupWidgetAttr=function(e){n("setupWidgetAttr","1.2.0","1.4.0"),e.filter(":attr(^data-gx-_), :attr(^data-gambio-_)").add(e.find(":attr(^data-gx-_), :attr(^data-gambio-_)")).each(function(){var e,n,t=$(this),o=t[0].attributes;$.each(o,function(o,i){return void 0===i?!0:(e=i.name.match(/data-(gambio|gx)-_.*/g),void(null!==e&&e.length>0&&(n=e[0].match(/(gambio|gx)/g)[0],t.attr(i.name.replace("data-"+n+"-_","data-"+n+"-"),i.value))))})})},e.fill=function(e,t){n("fill","1.2.0","1.4.0"),$.each(e,function(e,n){var o=t.find(n.selector).add(t.filter(n.selector));o.each(function(){var e=$(this);switch(n.type){case"html":e.html(n.value);break;case"attribute":e.attr(n.key,n.value);break;case"replace":n.value?e.replaceWith(n.value):e.addClass("hidden").empty();break;default:e.text(n.value)}})})},e.getUrlParams=function(e,t){n("getUrlParams","1.2.0","1.4.0"),e=decodeURIComponent(e||location.href);var o=e.split("?"),i=o.length>1?o[1].split("&"):[],r=new RegExp(/\[(.*?)\]/g),a={};return $.each(i,function(e,n){var o=n.split("="),i=r.exec(o[0]),s=null,c=o[0].substring(0,o[0].search("\\[")),u=[],l=null;if(t&&null!==i){a[c]=a[c]||[],s=a[c];do u.push(i[1]),i=r.exec(o[0]);while(null!==i);$.each(u,function(e,n){var t=u[e+1];n=n||"0","string"==typeof t?(s[n]=s[n]||[],s=s[n]):(s[n]=s[n]||void 0,l=n)}),null!==l?s[l]=o[1]:s=o[1]}else a[o[0]]=o[1].split("#")[0]}),a},e.getData=function(e,n){var t=e.find("input, textarea, select"),o={};return n&&(t=t.filter(":not("+n+")")),t.each(function(){var n=$(this),t=n.prop("tagName").toLowerCase(),i=n.attr("name"),r=null;switch(t="input"!==t?t:n.attr("type").toLowerCase()){case"radio":e.find('input[name="'+i+'"]:checked').val();break;case"checkbox":-1!==i.search("\\[")?n.prop("checked")&&(i=i.substring(0,i.search("\\[")),"undefined"==typeof o[i]&&(o[i]=[]),o[i].push($(this).val())):o[i]=n.prop("checked");break;case"select":r=n.find(":selected"),r.length>1?(o[i]=[],r.each(function(){o[i].push($(this).val())})):o[i]=r.val();break;case"button":break;default:i&&(o[i]=n.val())}}),o}}(jse.core.fallback),jse.core.lang=jse.core.lang||{},function(e){"use strict";var n={};e.addSection=function(e,t){if("string"!=typeof e||"object"!=typeof t||null===t||0===t.length)throw new Error("window.gx.core.lang.addSection: Invalid arguments provided (name: "+typeof e+", translations: "+typeof t+")");n[e]=t},e.getSections=function(){var e=[];return $.each(n,function(n,t){e.push(n)}),e},e.translate=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new Error("Invalid arguments provided in translate method (phrase: "+typeof e+", section: "+typeof t+").");return"undefined"==typeof n[t]||"undefined"==typeof n[t][e]?(jse.core.debug.warn("Could not found requested translation (phrase: "+e+", section: "+t+")."),"{"+t+"."+e+"}"):n[t][e]}}(jse.core.lang),jse.core.module_loader=jse.core.module_loader||{},function(e){"use strict";e.init=function(){var e={baseUrl:jse.core.config.get("shopUrl"),urlArgs:jse.core.config.get("cacheBust")?"bust="+(new Date).getTime():"",onError:function(e){jse.core.debug.error("RequireJS Error:",e)}};require.config(e)},e.load=function(e,n,t){var o=$.Deferred();try{""===n&&o.reject(new Error("Module name cannot be empty."));var i=n.replace(/.*\/(.*)/,"$1"),r=t.cache.modules[i];if(r&&"function"===r.code)return console.log(t,t.namespace),o.resolve(new jse.constructors.Module(e,i,t)),!0;var a="DEBUG"!==jse.core.config.get("debug")?".min.js":".js",s=t.namespace.source+"/"+t.name+"/"+n+a;require([s],function(){if("undefined"==typeof t.cache.modules[i])throw new Error('Module "'+n+"\" wasn't defined correctly. Check the module code for further troubleshooting.");var r=t.cache.modules[i].dependencies.slice();return 0===r.length?(o.resolve(new jse.constructors.Module(e,i,t)),!0):($.each(r,function(e,n){-1===n.indexOf("http")?r[e]=jse.core.config.get("engineUrl")+"/libs/"+n+a:-1===n.indexOf(".js")&&(r[e]+=a)}),void require(r,function(){o.resolve(new jse.constructors.Module(e,i,t))}))})}catch(c){o.reject(c)}return o.promise()}}(jse.core.module_loader),function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,n){var t;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),i=o.length>>>0;if(0===i)return-1;var r=+n||0;if(Math.abs(r)===1/0&&(r=0),r>=i)return-1;for(t=Math.max(r>=0?r:i-Math.abs(r),0);i>t;){if(t in o&&o[t]===e)return t;t++}return-1}),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),Date.now||(Date.now=function(){return(new Date).getTime()})}(),jse.core.registry=jse.core.registry||{},function(e){"use strict";var n=[];e.set=function(e,t){"undefined"!=typeof n[e]&&jse.core.debug.warn('The registry value with the name "'+e+'" will be overwritten.'),n[e]=t},e.get=function(e){return n[e]},e.debug=function(){if("development"!==jse.core.config.get("environment"))throw new Error("This function is not allowed in a production environment.");jse.core.debug.log("Registry Object:",n)}}(jse.core.registry);